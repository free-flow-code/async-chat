# Асинхронный чат на Python

Скрипт позволяет подключаться к серверу чата по TCP протоколу.
Позволяет читать и отправлять сообщения в файл.
При чтении автоматически сохраняет историю сообщений в файл. Хост, номер порта и
название файла с историей сообщений можно задать либо с помощью переменных окружения,
либо аргументами командной строки.

Для запуска Python 3.10 должен быть установлен.
Установите необходимые библиотеки:

```
pip3 install -r requirements.txt
```

## Чтение сообщений

```
python3 main.py --host <chat_hostname> --read-port <port_number> --history <file_name>
```

По умолчанию `--history = messages.txt`. Т.е. история сообщений будет сохранена
в файле `messages.txt` рядом с файлом скрипта. Можно указать свой путь и имя файла.

**Номера портов для чтения и отправления сообщений отличаются.**

## Отправление сообщений

```
python3 main.py --host <chat_hostname> --send-port <port_number> --message <some_text> --token <authorized_token>
```

`--token` - необязательный параметр для авторизации в чате.

**Номера портов для чтения и отправления сообщений отличаются.**

## Переменные окружения

Создайте рядом с файлом скрипта `.env` файл следующего содержания:

```
HOST=<chat_hostname>
READ_PORT=<port_number>
SEND_PORT=<port_number>
HISTORY=<file_name>
TOKEN=<authorized_token>
```

TOKEN - необязательный параметр для авторизации в чате.